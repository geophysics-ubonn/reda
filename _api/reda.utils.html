
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>reda.utils package &#8212; REDA 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="reda.testing.ert_container package" href="reda.testing.ert_container.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/reda_logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Reproducible electrical data analysis</p>








    

<p>
<a class="badge" href="https://travis-ci.org/geophysics-ubonn/reda">
    <img
        alt="https://secure.travis-ci.org/geophysics-ubonn/reda.svg?branch=master"
        src="https://secure.travis-ci.org/geophysics-ubonn/reda.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_containers.html">Data Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concept_electrodes.html">Concept: Electrode numbers and positions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filtering.html">Filtering Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging.html">Debugging reda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../importers.html">Data Importers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../test_data.html">Test data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/geophysics-ubonn/reda">Source code</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API documentation</a><ul>
  <li><a href="reda.html">reda package</a><ul>
      <li>Previous: <a href="reda.testing.ert_container.html" title="previous chapter">reda.testing.ert_container package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-reda.utils">
<span id="reda-utils-package"></span><h1>reda.utils package<a class="headerlink" href="#module-reda.utils" title="Permalink to this headline">¶</a></h1>
<p>Utility functions</p>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-reda.utils.data">
<span id="reda-utils-data-module"></span><h2>reda.utils.data module<a class="headerlink" href="#module-reda.utils.data" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.data.download_data">
<span class="sig-prename descclassname"><span class="pre">reda.utils.data.</span></span><span class="sig-name descname"><span class="pre">download_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/data.html#download_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.data.download_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data from a separate data repository for testing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>identifier: string</strong></dt><dd><p>The identifier used to find the data set</p>
</dd>
<dt><strong>outdir: string</strong></dt><dd><p>unzip the data in this directory</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reda.utils.decorators_and_managers">
<span id="reda-utils-decorators-and-managers-module"></span><h2>reda.utils.decorators_and_managers module<a class="headerlink" href="#module-reda.utils.decorators_and_managers" title="Permalink to this headline">¶</a></h2>
<p>Utility class for context managers and decorators</p>
<dl class="py class">
<dt class="sig sig-object py" id="reda.utils.decorators_and_managers.LogDataChanges">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">reda.utils.decorators_and_managers.</span></span><span class="sig-name descname"><span class="pre">LogDataChanges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/decorators_and_managers.html#LogDataChanges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.decorators_and_managers.LogDataChanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Context manager that observes the DataFrame of a data container for
changes in the number of rows.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">reda.testing.containers</span> <span class="kn">import</span> <span class="n">ERTContainer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">reda.containers.ERT</span> <span class="kn">import</span> <span class="n">LogDataChanges</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">LogDataChanges</span><span class="p">(</span><span class="n">ERTContainer</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># now change the data</span>
<span class="gp">... </span>    <span class="n">ERTContainer</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">22</span>
<span class="gp">... </span>    <span class="n">ERTContainer</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;r &lt; 10&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ERTContainer.print_log()</span>
<span class="go">2... - root - INFO - Data size changed from 22 to 21</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.decorators_and_managers.append_doc_of">
<span class="sig-prename descclassname"><span class="pre">reda.utils.decorators_and_managers.</span></span><span class="sig-name descname"><span class="pre">append_doc_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/decorators_and_managers.html#append_doc_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.decorators_and_managers.append_doc_of" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.decorators_and_managers.prepend_doc_of">
<span class="sig-prename descclassname"><span class="pre">reda.utils.decorators_and_managers.</span></span><span class="sig-name descname"><span class="pre">prepend_doc_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/decorators_and_managers.html#prepend_doc_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.decorators_and_managers.prepend_doc_of" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-reda.utils.eit_fzj_utils">
<span id="reda-utils-eit-fzj-utils-module"></span><h2>reda.utils.eit_fzj_utils module<a class="headerlink" href="#module-reda.utils.eit_fzj_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.eit_fzj_utils.apply_correction_factors">
<span class="sig-prename descclassname"><span class="pre">reda.utils.eit_fzj_utils.</span></span><span class="sig-name descname"><span class="pre">apply_correction_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correction_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/eit_fzj_utils.html#apply_correction_factors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.eit_fzj_utils.apply_correction_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply correction factors for a pseudo-2D measurement setup. See Weigand
and Kemna, 2017, Biogeosciences, for more information:</p>
<p><a class="reference external" href="https://doi.org/10.5194/bg-14-921-2017">https://doi.org/10.5194/bg-14-921-2017</a></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>df</strong><span class="classifier"><a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Data container</p>
</dd>
<dt><strong>correction_file</strong><span class="classifier">string</span></dt><dd><p>Path to correction file. The file must have 5 columns:
a,b,m,n,correction_factor</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>corr_data</strong><span class="classifier">Nx5 <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></span></dt><dd><p>Correction files as imported from the file. Columns:
a,b,m,n,correction_factor</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.eit_fzj_utils.check_resistor_board_measurements">
<span class="sig-prename descclassname"><span class="pre">reda.utils.eit_fzj_utils.</span></span><span class="sig-name descname"><span class="pre">check_resistor_board_measurements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_data_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/eit_fzj_utils.html#check_resistor_board_measurements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.eit_fzj_utils.check_resistor_board_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>To check basic system function a test board was built with multiple
resistors attached to for connectors each. Measurements can thus be
validated against known electrical (ohmic) resistances.</p>
<p>Note that the normal-reciprocal difference is not yet analyzed!</p>
<p>The referenc_data_file should have the following structure:
The file contains the four-point spreads to be imported from
the measurement. This file is a text file with four columns (A, B, M, N),
separated by spaces or tabs. Each line denotes one measurement and its
expected resistance, the allowed variation, and its allow difference
towards its reciprocal counterpart:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>   <span class="mi">2</span>   <span class="mi">4</span>   <span class="mi">3</span>   <span class="mi">1000</span>    <span class="mi">1</span>    <span class="mi">20</span>
<span class="mi">4</span>   <span class="mi">3</span>   <span class="mi">2</span>   <span class="mi">1</span>   <span class="mi">1000</span>    <span class="mi">1</span>    <span class="mi">20</span>
</pre></div>
</div>
<p>test frequency: 1Hz</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_file</strong><span class="classifier">string</span></dt><dd><p>path to mnu0 data file</p>
</dd>
<dt><strong>reference_data_file: string, optional</strong></dt><dd><p>path to reference data file with structure as describe above. Default
data is used if set to None</p>
</dd>
<dt><strong>create_plot</strong><span class="classifier">bool, optional</span></dt><dd><p>if True, create a plot with measured and expected resistances</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>kwargs will be redirected to the sEIT.import_eit_fzj call</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fig</strong><span class="classifier">figure object, optional</span></dt><dd><p>if create_plot is True, return a matplotlib figure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.eit_fzj_utils.compute_correction_factors">
<span class="sig-prename descclassname"><span class="pre">reda.utils.eit_fzj_utils.</span></span><span class="sig-name descname"><span class="pre">compute_correction_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_conductivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elec_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/eit_fzj_utils.html#compute_correction_factors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.eit_fzj_utils.compute_correction_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute correction factors for 2D rhizotron geometries, following
Weigand and Kemna, 2017, Biogeosciences</p>
<p><a class="reference external" href="https://doi.org/10.5194/bg-14-921-2017">https://doi.org/10.5194/bg-14-921-2017</a></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>measured data</p>
</dd>
<dt><strong>true_conductivity</strong><span class="classifier">float</span></dt><dd><p>Conductivity in S/m</p>
</dd>
<dt><strong>elem_file</strong><span class="classifier">string</span></dt><dd><p>path to CRTomo FE mesh file (elem.dat)</p>
</dd>
<dt><strong>elec_file</strong><span class="classifier">string</span></dt><dd><p>path to CRTomo FE electrode file (elec.dat)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>correction_factors</strong><span class="classifier">Nx5 :py:class.`numpy.ndarray`</span></dt><dd><p>measurement configurations and correction factors
(a,b,m,n,correction_factor)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.eit_fzj_utils.get_md_data_2018a">
<span class="sig-prename descclassname"><span class="pre">reda.utils.eit_fzj_utils.</span></span><span class="sig-name descname"><span class="pre">get_md_data_2018a</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/eit_fzj_utils.html#get_md_data_2018a"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.eit_fzj_utils.get_md_data_2018a" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the md data of a given FZJ EIT 2018a LI calibration data file.</p>
<p>This function should probably go into the importers, but for now will
reside here until it can be properly integrated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">str</span></dt><dd><p>Path to eit_data.mat file generated for an LI-‘calibration’ run</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>md</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>MD data</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.eit_fzj_utils.testboard_evaluation">
<span class="sig-prename descclassname"><span class="pre">reda.utils.eit_fzj_utils.</span></span><span class="sig-name descname"><span class="pre">testboard_evaluation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datapath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configdat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequencies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.1,</span> <span class="pre">0.134339933,</span> <span class="pre">0.180472177,</span> <span class="pre">0.242446202,</span> <span class="pre">0.325702066,</span> <span class="pre">0.437547938,</span> <span class="pre">0.587801607,</span> <span class="pre">0.789652287,</span> <span class="pre">1.06081836,</span> <span class="pre">1.42510267,</span> <span class="pre">1.91448198,</span> <span class="pre">2.57191381,</span> <span class="pre">3.45510729,</span> <span class="pre">4.64158883,</span> <span class="pre">6.23550734,</span> <span class="pre">8.3767764,</span> <span class="pre">11.2533558,</span> <span class="pre">15.1177507,</span> <span class="pre">20.3091762,</span> <span class="pre">27.2833338,</span> <span class="pre">36.6524124,</span> <span class="pre">49.2388263,</span> <span class="pre">66.1474064,</span> <span class="pre">88.8623816,</span> <span class="pre">119.377664,</span> <span class="pre">160.371874,</span> <span class="pre">215.443469,</span> <span class="pre">289.426612,</span> <span class="pre">388.815518,</span> <span class="pre">522.334507,</span> <span class="pre">701.703829,</span> <span class="pre">942.668455,</span> <span class="pre">1266.38017,</span> <span class="pre">1701.25428,</span> <span class="pre">2285.46386,</span> <span class="pre">3070.29063,</span> <span class="pre">4124.62638,</span> <span class="pre">5541.02033,</span> <span class="pre">7443.80301,</span> <span class="pre">10000.0])</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_percentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/eit_fzj_utils.html#testboard_evaluation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.eit_fzj_utils.testboard_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>A testboard with resistors and capacitors was built to test the
basic operation performance of eit-systems from FZJ. This function plots
the results of measurements on this board in terms of impedance magnitude
and phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>datapath</strong><span class="classifier">str</span></dt><dd><p>Path to the eit_data_mnu0.mat file containing the measurements.</p>
</dd>
<dt><strong>configdat: np.ndarray or txt-file</strong></dt><dd><p>input configuration of the used testboard configurations,
e.g. for first two rows of the board:
1 4 2 3
2 3 1 4
5 8 6 7
6 7 5 8
Note that normal and reciprocal measurements have to be measured.</p>
</dd>
<dt><strong>outputname: str</strong></dt><dd><p>output name of plot in png-format</p>
</dd>
<dt><strong>frequencies: numpy array</strong></dt><dd><p>frequency range (in log10-space) to compare the measurements to;
default range is from 0.1 Hz to 10 kHz</p>
</dd>
<dt><strong>error_percentage: float</strong></dt><dd><p>percentage of allowed measurement error. The range inside this
limit will be shown as a grey shadow in the plot.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>fig: figure object</dt><dd><p>Saves the plot with the given output name in the execution location of
the script.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reda.utils.electrode_manager">
<span id="reda-utils-electrode-manager-module"></span><h2>reda.utils.electrode_manager module<a class="headerlink" href="#module-reda.utils.electrode_manager" title="Permalink to this headline">¶</a></h2>
<p>An electrode manager that deals with the relationships between electrode
numbers and electrode positions.
It can be used while importing data, but also to manage electrode positions for
data that does not come with actual electrode positions.</p>
<p>## Possible future features</p>
<dl class="simple">
<dt>## Implemented features</dt><dd><ul class="simple">
<li><p>[done] Generate electrode numbers from a set of electrode coordinates</p></li>
<li><p>[done] Add new positions, including a .assume_regular_electrodes
(spacing, axis=(x|y|z)) function that conforms electrode numbers to a
fixed distance of electrodes.</p></li>
<li><p>[done] Assume reciprocal measurement by reversing</p></li>
<li><p>[done] The electrode numbering should follow an intuitive heuristic, i.e.
from left to right, top to bottom (think of rhizotrons or borehole
settings). This behavior should be changeable by means of a custom sort
function that takes (x,z) or (x,y,z) tuples and returns a given order.</p></li>
<li><p>[done] 2D and 3D</p></li>
<li><p>[done] .from_existing_ordering(iterable(numbers), iterable(coordinates))</p></li>
<li><p>[done] reverse lookup: given a fixed electrode assignment table, return</p></li>
<li><p>[done] test/account for positions not registered yet, but for which an
electrode number is requested electrode positions for given electrode
numbers</p></li>
<li><p>[done] need proper tests for all sorters</p></li>
<li><p>[done] how to deal with incorrect electrode positions, e.g. for the case
where default Syscal settings are used?</p></li>
<li><p>[done] Merge two datasets by their electrode coordinates:</p></li>
</ul>
</dd>
</dl>
<p>## User Stories</p>
<ol class="arabic simple">
<li><p>Import Syscal Data with unused electrodes but correct electrode positions</p></li>
</ol>
<p>Syscal data contains only electrode positions (x,y,z for binary, but often only
x coordinates for ascii export). As such we need to assign electrode numbers to
those coordinates. This is relatively straightforward in case all electrodes
attached to the multichannel system were used and a regular spacing was set in
the system. However, if electrodes were skipped, things can get messy.</p>
<p>Two possible procedures can now be employed:</p>
<ol class="upperalpha simple">
<li><ol class="arabic simple">
<li><p>Add all encountered electrode positions (for a,b,m,n) to the electrode
manager.</p></li>
<li><p>Sort the positions in ascending order for z,y,x coordinates (in
ascending priority)</p></li>
<li><p>(optional) add missing electrode positions to conform the resulting
assignments to a fixed grid of electrodes, e.g., 48, 72, or 96
electrodes.</p></li>
<li><p>Use the resulting electrode number assignment to generate logical
electrode numbers for a,b,m,n</p></li>
</ol>
</li>
<li><ol class="arabic simple">
<li><p>Provide a precomputed assignment table for electrode numbers and
positions to the electrode manager</p></li>
<li><p>Use the resulting electrode number assignment to generate logical
electrode numbers for a,b,m,n</p></li>
</ol>
</li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Import Syscal Data with unused electrodes but incorrect electrode positions</p></li>
</ol>
<p>Same as in (1), but use a replacement function to replace the incorrect
electrode positions with the correct ones.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.decorator_name_index">
<span class="sig-prename descclassname"><span class="pre">reda.utils.electrode_manager.</span></span><span class="sig-name descname"><span class="pre">decorator_name_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#decorator_name_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.decorator_name_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">reda.utils.electrode_manager.</span></span><span class="sig-name descname"><span class="pre">electrode_manager</span></span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>electrode_positions</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.add_by_position" title="reda.utils.electrode_manager.electrode_manager.add_by_position"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_by_position</span></code></a>(data_raw[, remove_duplicates])</p></td>
<td><p>Add electrodes by using only their positions (1D/2D/3D).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.add_fixed_assignments" title="reda.utils.electrode_manager.electrode_manager.add_fixed_assignments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_fixed_assignments</span></code></a>(data_raw)</p></td>
<td><p>Use a pre-determined electrode numbering scheme.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.align_assignments" title="reda.utils.electrode_manager.electrode_manager.align_assignments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">align_assignments</span></code></a>(pos1, pos2, abmn1, abmn2)</p></td>
<td><p>Align the positions and logical electrode numbers of two datasets.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.conform_to_regular_x_spacing" title="reda.utils.electrode_manager.electrode_manager.conform_to_regular_x_spacing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conform_to_regular_x_spacing</span></code></a>(spacing_x[, …])</p></td>
<td><p>Assume electrodes are located on a regular grid of electrodes with spacing spacing_x.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.get_all_electrode_numbers" title="reda.utils.electrode_manager.electrode_manager.get_all_electrode_numbers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_all_electrode_numbers</span></code></a>()</p></td>
<td><p>Return the assignment between electrode numbers and coordinates</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.get_electrode_numbers_for_positions" title="reda.utils.electrode_manager.electrode_manager.get_electrode_numbers_for_positions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_electrode_numbers_for_positions</span></code></a>(…)</p></td>
<td><p>For a given set of coordinates, return electrode coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.get_position_of_number" title="reda.utils.electrode_manager.electrode_manager.get_position_of_number"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_position_of_number</span></code></a>(number)</p></td>
<td><p>Return the position associated with a given electrode number.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.reflect_on_position_x" title="reda.utils.electrode_manager.electrode_manager.reflect_on_position_x"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reflect_on_position_x</span></code></a>(reflect_on_x)</p></td>
<td><p>Reflect all electrode positions on a given x position.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.register_custom_ordering_scheme" title="reda.utils.electrode_manager.electrode_manager.register_custom_ordering_scheme"><code class="xref py py-obj docutils literal notranslate"><span class="pre">register_custom_ordering_scheme</span></code></a>(function)</p></td>
<td><p>Register a user-supplied function to assign electrode numbers to a given set of coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.replace_coordinate_of_electrode_number" title="reda.utils.electrode_manager.electrode_manager.replace_coordinate_of_electrode_number"><code class="xref py py-obj docutils literal notranslate"><span class="pre">replace_coordinate_of_electrode_number</span></code></a>(…)</p></td>
<td><p>Replace the coordinates of the given electrode number (in the current ordering) with the new coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.replace_coordinates_with_fixed_regular_grid_x" title="reda.utils.electrode_manager.electrode_manager.replace_coordinates_with_fixed_regular_grid_x"><code class="xref py py-obj docutils literal notranslate"><span class="pre">replace_coordinates_with_fixed_regular_grid_x</span></code></a>(…)</p></td>
<td><p>Using the current ordering scheme, replace the x coordinates with multiples of spaxing_x, starting with 0.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is" title="reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ordering_to_as_is</span></code></a>()</p></td>
<td><p>Helper function that activates the sorter that assigns electrode numbers in the order the coordinates were registered.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is_plus_one" title="reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is_plus_one"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ordering_to_as_is_plus_one</span></code></a>()</p></td>
<td><p>Helper function that activates the sorter that assigns electrode numbers in the order the coordinates were registered.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_sort_zyx" title="reda.utils.electrode_manager.electrode_manager.set_ordering_to_sort_zyx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ordering_to_sort_zyx</span></code></a>()</p></td>
<td><p>Helper function that activates the sorter that actually sorts electrode coordinates before assigning the electrode numbers.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#reda.utils.electrode_manager.electrode_manager.shift_positions_xyz" title="reda.utils.electrode_manager.electrode_manager.shift_positions_xyz"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shift_positions_xyz</span></code></a>(shift_by_xyz)</p></td>
<td><p>Shift electrode positions by adding the vector ‘shift_by_xyz’ to each position.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 75%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>__call__</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>plot_coordinates_x_z_to_ax</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.add_by_position">
<span class="sig-name descname"><span class="pre">add_by_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_duplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.add_by_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.add_by_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Add electrodes by using only their positions (1D/2D/3D).</p>
<p>Electrode positions are rounded to the self.round_to_decimals decimal
to ensure we can do proper comparison and identification with the
floats.</p>
<p>Multiple formats are possible:</p>
<ol class="arabic simple">
<li><p>pandas.DataFrame with columns (x/z) or (x/y/z)</p></li>
<li><p>list (one position) or nested list (multiple positions)</p></li>
<li><p>numpy array</p></li>
</ol>
<p>WARNING: For lists/tuples/arrays the number of supplied dimensions is
determined by the second dimension after applying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nr_dimensions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>As such, make sure to properly format 1d arrays!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_raw</strong><span class="classifier">numpy.ndarray|tuple|list</span></dt><dd><p>Coordinate(s) for the electrodes to add to the pool</p>
</dd>
<dt><strong>remove_duplicates</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, only add coordinates not already registered</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.add_fixed_assignments">
<span class="sig-name descname"><span class="pre">add_fixed_assignments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_raw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.add_fixed_assignments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.add_fixed_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a pre-determined electrode numbering scheme.</p>
<p>This is accomplished by the following steps:</p>
<ol class="arabic simple">
<li><p>clean all existing electrode positions already registered</p></li>
<li><p>set a lock that prevents the addition of additional</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.align_assignments">
<span class="sig-name descname"><span class="pre">align_assignments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abmn1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abmn2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.align_assignments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.align_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Align the positions and logical electrode numbers of two datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pos1</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the electrode positions of the first dataset.
Required columns: x, y, z and either a column ‘electrode_number’ or
an index named ‘electrode_number’.</p>
</dd>
<dt><strong>pos2</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the electrode positions of the second dataset.
Required columns: x, y, z and either a column ‘electrode_number’ or
an index named ‘electrode_number’.</p>
</dd>
<dt><strong>abmn1</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the logical electrode numbers a,b,m,n for the
data set 1.</p>
</dd>
<dt><strong>abmn2</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the logical electrode numbers a,b,m,n for the
data set 2.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>electrode_positions_aligned</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Aligned electrode positions with new electrode numbers (index is
named ‘electrode_number’).</p>
</dd>
<dt><strong>abmn1_aligned</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the logical electrode numbers a,b,m,n of the
first data set after merging (aligning) the electrode positions of
both datasets.</p>
</dd>
<dt><strong>abmn2_aligned</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>Dataframe containing the logical electrode numbers a,b,m,n of the
second data set after merging (aligning) the electrode positions of
both datasets.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.conform_to_regular_x_spacing">
<span class="sig-name descname"><span class="pre">conform_to_regular_x_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacing_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nr_electrodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.conform_to_regular_x_spacing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.conform_to_regular_x_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Assume electrodes are located on a regular grid of electrodes with
spacing spacing_x. Add missing electrode positions and thus ensure that
the resulting electrode numbers conform to this full set of electrodes.</p>
<p>This is useful when dealing with multiple measurements using
multi-channel/multiplexer systems where not all electrodes are used in
every measurement.</p>
<p>This function works for simple setups - for specialized cases it is
recommended to provide a complete electrode position list using the XXX
method.</p>
<p>Electrode positions are assumed to start at 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>spacing_x</strong><span class="classifier">float</span></dt><dd><p>Spacing of electrode meash</p>
</dd>
<dt><strong>nr_electrodes</strong><span class="classifier">int|None</span></dt><dd><p>If set, only fill in electrode positions up to this electrode.
Otherwise the maximal x position is used to determine the electrode
number.</p>
</dd>
<dt><strong>y_level</strong><span class="classifier">float, optional</span></dt><dd><p>y coordinate used for the additional points. Defaults to 0</p>
</dd>
<dt><strong>z_level</strong><span class="classifier">float, optional</span></dt><dd><p>z coordinate used for the additional points. Defaults to 0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>Exception in case where existing electrode positions are not multiples</dt><dd></dd>
<dt>of spacing_x.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.electrode_positions">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">electrode_positions</span></span><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.electrode_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.get_all_electrode_numbers">
<span class="sig-name descname"><span class="pre">get_all_electrode_numbers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.get_all_electrode_numbers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.get_all_electrode_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the assignment between electrode numbers and coordinates</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.get_electrode_numbers_for_positions">
<span class="sig-name descname"><span class="pre">get_electrode_numbers_for_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">positions_raw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.get_electrode_numbers_for_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.get_electrode_numbers_for_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given set of coordinates, return electrode coordinates</p>
<p>In order to prevent problems with floating point representation and
comparison, positions are rounded to the decimal given in
self.round_to_decimals.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>position</strong><span class="classifier">numpy.ndarray|None</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.get_position_of_number">
<span class="sig-name descname"><span class="pre">get_position_of_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.get_position_of_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.get_position_of_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the position associated with a given electrode number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.plot_coordinates_x_z_to_ax">
<span class="sig-name descname"><span class="pre">plot_coordinates_x_z_to_ax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_electrode_numbers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.plot_coordinates_x_z_to_ax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.plot_coordinates_x_z_to_ax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.reflect_on_position_x">
<span class="sig-name descname"><span class="pre">reflect_on_position_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reflect_on_x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.reflect_on_position_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.reflect_on_position_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Reflect all electrode positions on a given x position:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x_new</span> <span class="o">=</span> <span class="n">reflect_on_x</span> <span class="o">-</span> <span class="n">x_i</span>
</pre></div>
</div>
<p>This procedure modifies the actual position data and cannot be
reversed.</p>
<p>It is useful to treat reciprocal data measured with devices that can be
configured to measure reciprocal data easily, while retaining the
electrode coordinates of the normal spread (e.g., possible with the
Iris Instruments Syscal devices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.register_custom_ordering_scheme">
<span class="sig-name descname"><span class="pre">register_custom_ordering_scheme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.register_custom_ordering_scheme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.register_custom_ordering_scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a user-supplied function to assign electrode numbers to a
given set of coordinates.</p>
<p>The function must take one argument, a pandas.DataFrame with electrode
coordinates in columns x,y,z. It then returns a ordered copy of that
DataFrame, whose index values denote the electrode numbers. It is
recommended to adjust the index to start with electrode number 1.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.replace_coordinate_of_electrode_number">
<span class="sig-name descname"><span class="pre">replace_coordinate_of_electrode_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">electrode_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.replace_coordinate_of_electrode_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.replace_coordinate_of_electrode_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the coordinates of the given electrode number (in the
current ordering) with the new coordinates.</p>
<p>Note that, depending on the chosen ordering scheme this can lead to the
electrode assignments changing. This is the case for the
‘sort_coordinates_zyx’ scheme. However, ‘as_is’ and ‘as_is_plus_one’
will retain the electrode order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>electrode_number</strong><span class="classifier">int</span></dt><dd><p>The electrode number to replace</p>
</dd>
<dt><strong>coordinates</strong><span class="classifier">tuple|list|numpy.ndarray of size 2 or 3</span></dt><dd><p>The new coordinates</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.replace_coordinates_with_fixed_regular_grid_x">
<span class="sig-name descname"><span class="pre">replace_coordinates_with_fixed_regular_grid_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacing_x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.replace_coordinates_with_fixed_regular_grid_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.replace_coordinates_with_fixed_regular_grid_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the current ordering scheme, replace the x coordinates with
multiples of spaxing_x, starting with 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>spacing_x</strong><span class="classifier">float</span></dt><dd><p>New spacing of x coordinates</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is">
<span class="sig-name descname"><span class="pre">set_ordering_to_as_is</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.set_ordering_to_as_is"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function that activates the sorter that assigns electrode
numbers in the order the coordinates were registered. Useful if
coordinates are input by hand.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is_plus_one">
<span class="sig-name descname"><span class="pre">set_ordering_to_as_is_plus_one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.set_ordering_to_as_is_plus_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_as_is_plus_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function that activates the sorter that assigns electrode
numbers in the order the coordinates were registered. Useful if
coordinates are input by hand.</p>
<p>This function will add 1 to the index values to ensure we do not zero
index.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.set_ordering_to_sort_zyx">
<span class="sig-name descname"><span class="pre">set_ordering_to_sort_zyx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.set_ordering_to_sort_zyx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.set_ordering_to_sort_zyx" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function that activates the sorter that actually sorts
electrode coordinates before assigning the electrode numbers.
Useful to assign electrode numbers for automatically generated
electrode numbers, such as encountered for some measurement systems.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reda.utils.electrode_manager.electrode_manager.shift_positions_xyz">
<span class="sig-name descname"><span class="pre">shift_positions_xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shift_by_xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/electrode_manager.html#electrode_manager.shift_positions_xyz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.electrode_manager.electrode_manager.shift_positions_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift electrode positions by adding the vector ‘shift_by_xyz’ to
each position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>shift_by_xyz</strong><span class="classifier">tuple|list|numpy.ndarray of size 1 or 2 or 3</span></dt><dd><p>The vector to shift the data by. Length of 1 assumes that only the
x coordinate of the vector differs from zero. Length of 2 assume a
shift in (x,z) direction.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-reda.utils.enter_directory">
<span id="reda-utils-enter-directory-module"></span><h2>reda.utils.enter_directory module<a class="headerlink" href="#module-reda.utils.enter_directory" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="reda.utils.enter_directory.CreateEnterDirectory">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">reda.utils.enter_directory.</span></span><span class="sig-name descname"><span class="pre">CreateEnterDirectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/enter_directory.html#CreateEnterDirectory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.enter_directory.CreateEnterDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#reda.utils.enter_directory.EnterDirectory" title="reda.utils.enter_directory.EnterDirectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">reda.utils.enter_directory.EnterDirectory</span></code></a></p>
<p>This is a context manager that enters a given directory and returns to
the initial current directory after finishing. If the target directory does
not exist, create it.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="reda.utils.enter_directory.EnterDirectory">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">reda.utils.enter_directory.</span></span><span class="sig-name descname"><span class="pre">EnterDirectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/enter_directory.html#EnterDirectory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.enter_directory.EnterDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This is a context manager that enters a given directory and returns to
the initial current directory after finishing</p>
</dd></dl>

</section>
<section id="module-reda.utils.filter_config_types">
<span id="reda-utils-filter-config-types-module"></span><h2>reda.utils.filter_config_types module<a class="headerlink" href="#module-reda.utils.filter_config_types" title="Permalink to this headline">¶</a></h2>
<p>Sort configurations into four-point spread types.</p>
<p>Sorting is done by subsequently applying filters to the configurations, with
removal of selected configurations. Thus, each filter sees only configurations
not ‘chosen’ by any previously applied filters.</p>
<blockquote>
<div><ul class="simple">
<li><p>dipole-dipole</p></li>
<li><p>Schlumberger</p></li>
<li><p>Wenner</p></li>
<li><p>misc</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.filter_config_types.filter">
<span class="sig-prename descclassname"><span class="pre">reda.utils.filter_config_types.</span></span><span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/filter_config_types.html#filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.filter_config_types.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Main entry function to filtering configuration types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>configs: Nx4 array</strong></dt><dd><p>array containing A-B-M-N configurations</p>
</dd>
<dt><strong>settings: dict</strong></dt><dd><p>‘only_types’: [‘dd’, ‘other’],  # filter only for those types</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>results dict containing filter results (indices) for all registered
filter functions.  All remaining configs are stored under the keywords
‘remaining’</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reda.utils.fix_sign_with_K">
<span id="reda-utils-fix-sign-with-k-module"></span><h2>reda.utils.fix_sign_with_K module<a class="headerlink" href="#module-reda.utils.fix_sign_with_K" title="Permalink to this headline">¶</a></h2>
<p>Fix signs in resistance measurements using the K factors. The sign of negative
resistance measurements can be switched if the geometrical factor is negative.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.fix_sign_with_K.fix_sign_with_K">
<span class="sig-prename descclassname"><span class="pre">reda.utils.fix_sign_with_K.</span></span><span class="sig-name descname"><span class="pre">fix_sign_with_K</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/fix_sign_with_K.html#fix_sign_with_K"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.fix_sign_with_K.fix_sign_with_K" title="Permalink to this definition">¶</a></dt>
<dd><p>Swap electrode denotations so that geometrical (K) factors become
positive. Also, swap signs of all parameters affected by this process.</p>
<p>Affected parameters, at the moment, are:</p>
<blockquote>
<div><ul class="simple">
<li><p>k</p></li>
<li><p>r</p></li>
<li><p>Vmn</p></li>
<li><p>Zt</p></li>
<li><p>rho_a</p></li>
<li><p>rpha</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataframe</strong><span class="classifier">pandas.DateFrame</span></dt><dd><p>dataframe holding the data</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dataframe</strong><span class="classifier">pandas.DateFrame</span></dt><dd><p>the fixed dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.fix_sign_with_K.test_fix_sign_with_K">
<span class="sig-prename descclassname"><span class="pre">reda.utils.fix_sign_with_K.</span></span><span class="sig-name descname"><span class="pre">test_fix_sign_with_K</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/fix_sign_with_K.html#test_fix_sign_with_K"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.fix_sign_with_K.test_fix_sign_with_K" title="Permalink to this definition">¶</a></dt>
<dd><p>a few simple test cases</p>
</dd></dl>

</section>
<section id="module-reda.utils.geom_fac_crtomo">
<span id="reda-utils-geom-fac-crtomo-module"></span><h2>reda.utils.geom_fac_crtomo module<a class="headerlink" href="#module-reda.utils.geom_fac_crtomo" title="Permalink to this headline">¶</a></h2>
<p>Compute geometric factors (also referred to as K) using CRMod/CRTomo</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.geom_fac_crtomo.compute_K">
<span class="sig-prename descclassname"><span class="pre">reda.utils.geom_fac_crtomo.</span></span><span class="sig-name descname"><span class="pre">compute_K</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/geom_fac_crtomo.html#compute_K"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.geom_fac_crtomo.compute_K" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataframe</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>dataframe that contains the data</p>
</dd>
<dt><strong>settings</strong><span class="classifier">dict</span></dt><dd><p>with required settings, see below</p>
</dd>
<dt><strong>keep_dir</strong><span class="classifier">path</span></dt><dd><p>if not None, copy modeling dir here</p>
</dd>
<dt><strong>settings = {</strong></dt><dd><p>‘rho’: 100,  # resistivity to use for homogeneous model, [Ohm m]
‘elem’
‘elec’
‘2D’ : True|False
‘sink_node’: ‘100’,</p>
</dd>
<dt><strong>}</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.geom_fac_crtomo.get_default_settings">
<span class="sig-prename descclassname"><span class="pre">reda.utils.geom_fac_crtomo.</span></span><span class="sig-name descname"><span class="pre">get_default_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/geom_fac_crtomo.html#get_default_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.geom_fac_crtomo.get_default_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-reda.utils.geometric_factors">
<span id="reda-utils-geometric-factors-module"></span><h2>reda.utils.geometric_factors module<a class="headerlink" href="#module-reda.utils.geometric_factors" title="Permalink to this headline">¶</a></h2>
<p>select and execute functions to compute geometric factors according to the
rcParams variable.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.geometric_factors.apply_K">
<span class="sig-prename descclassname"><span class="pre">reda.utils.geometric_factors.</span></span><span class="sig-name descname"><span class="pre">apply_K</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/geometric_factors.html#apply_K"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.geometric_factors.apply_K" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the geometric factors to the dataset and compute (apparent)
resistivities/conductivities</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The dataframe containing the data to which geometric factors shall be
applied</p>
</dd>
<dt><strong>k</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The geometric factors</p>
</dd>
<dt><strong>**kwargs: {}</strong></dt><dd><p>No kwargs at the moment</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The data with geometric factors applied</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.geometric_factors.compute_K_analytical">
<span class="sig-prename descclassname"><span class="pre">reda.utils.geometric_factors.</span></span><span class="sig-name descname"><span class="pre">compute_K_analytical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/geometric_factors.html#compute_K_analytical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.geometric_factors.compute_K_analytical" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an electrode spacing, compute geometrical factors using the
equation for the homogeneous half-space (Neumann-equation)</p>
<p>If a dataframe is given, use the column (a, b, m, n). Otherwise, expect an
Nx4 arrray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataframe</strong><span class="classifier">pandas.DataFrame or numpy.ndarray</span></dt><dd><p>Configurations, either as DataFrame</p>
</dd>
<dt><strong>spacing</strong><span class="classifier">float or numpy.ndarray</span></dt><dd><p>distance between electrodes. If array, then these are the x-coordinates
of the electrodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>K</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The geometric factors corresponding to the provided configurations</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.geometric_factors.compute_K_numerical">
<span class="sig-prename descclassname"><span class="pre">reda.utils.geometric_factors.</span></span><span class="sig-name descname"><span class="pre">compute_K_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/geometric_factors.html#compute_K_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.geometric_factors.compute_K_numerical" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a finite-element modeling code to infer geometric factors for meshes
with topography or irregular electrode spacings.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataframe</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>the data frame that contains the data</p>
</dd>
<dt><strong>settings</strong><span class="classifier">dict</span></dt><dd><p>The settings required to compute the geometric factors. See examples
down below for more information in the required content.</p>
</dd>
<dt><strong>keep_dir</strong><span class="classifier">path</span></dt><dd><p>if not None, copy modeling dir here</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>K</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></span></dt><dd><p>K factors (are also directly written to the dataframe)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;elem&#39;</span><span class="p">:</span> <span class="s1">&#39;elem.dat&#39;</span><span class="p">,</span>
    <span class="s1">&#39;elec&#39;</span><span class="p">:</span> <span class="s1">&#39;elec.dat&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sink_node&#39;</span><span class="p">:</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2D&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-reda.utils.helper_functions">
<span id="reda-utils-helper-functions-module"></span><h2>reda.utils.helper_functions module<a class="headerlink" href="#module-reda.utils.helper_functions" title="Permalink to this headline">¶</a></h2>
<p>Useful helper functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.helper_functions.has_multiple_timesteps">
<span class="sig-prename descclassname"><span class="pre">reda.utils.helper_functions.</span></span><span class="sig-name descname"><span class="pre">has_multiple_timesteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/helper_functions.html#has_multiple_timesteps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.helper_functions.has_multiple_timesteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if <cite>data</cite> container has multiple timesteps.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.helper_functions.opt_import">
<span class="sig-prename descclassname"><span class="pre">reda.utils.helper_functions.</span></span><span class="sig-name descname"><span class="pre">opt_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requiredFor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'use</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">functionality'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/helper_functions.html#opt_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.helper_functions.opt_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Import and return module only if it exists.
If <cite>module</cite> cannot be imported, a warning is printed followed by the
<cite>requiredFor</cite> string. Otherwise, the imported <cite>module</cite> will be returned.
This function should be used to import optional dependencies in order to
avoid repeated try/except statements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>module</strong><span class="classifier">str</span></dt><dd><p>Name of the module to be imported.</p>
</dd>
<dt><strong>requiredFor</strong><span class="classifier">str, optional</span></dt><dd><p>Info string for the purpose of the dependency.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">reda.utils</span> <span class="kn">import</span> <span class="n">opt_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reda</span> <span class="o">=</span> <span class="n">opt_import</span><span class="p">(</span><span class="s2">&quot;reda&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reda</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">&#39;reda&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opt_import</span><span class="p">(</span><span class="s2">&quot;doesNotExist&quot;</span><span class="p">,</span> <span class="n">requiredFor</span><span class="o">=</span><span class="s2">&quot;do something special&quot;</span><span class="p">)</span>
<span class="go">No module named &#39;doesNotExist&#39;.</span>
<span class="go">You need to install this optional dependency to do something special.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.helper_functions.search">
<span class="sig-prename descclassname"><span class="pre">reda.utils.helper_functions.</span></span><span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">what</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/helper_functions.html#search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.helper_functions.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to search docstrings for string <cite>what</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.helper_functions.split_timesteps">
<span class="sig-prename descclassname"><span class="pre">reda.utils.helper_functions.</span></span><span class="sig-name descname"><span class="pre">split_timesteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consistent_abmn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/helper_functions.html#split_timesteps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.helper_functions.split_timesteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Split data into multiple timesteps.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.helper_functions.which">
<span class="sig-prename descclassname"><span class="pre">reda.utils.helper_functions.</span></span><span class="sig-name descname"><span class="pre">which</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">program</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/helper_functions.html#which"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.helper_functions.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Python function to mimic the unix ‘which’ command.</p>
</dd></dl>

</section>
<section id="module-reda.utils.mpl">
<span id="reda-utils-mpl-module"></span><h2>reda.utils.mpl module<a class="headerlink" href="#module-reda.utils.mpl" title="Permalink to this headline">¶</a></h2>
<p>This file set ups matplotlib plot functions for the whole package.</p>
<p>Import all necessary Matplotlib modules and set default options
To use this module, import * from it:</p>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">reda.utils.mpl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="p">,</span> <span class="n">mpl</span> <span class="o">=</span> <span class="n">reda</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.mpl.mpl_get_cb_bound_below_plot">
<span class="sig-prename descclassname"><span class="pre">reda.utils.mpl.</span></span><span class="sig-name descname"><span class="pre">mpl_get_cb_bound_below_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/mpl.html#mpl_get_cb_bound_below_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.mpl.mpl_get_cb_bound_below_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes below the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.mpl.mpl_get_cb_bound_next_to_plot">
<span class="sig-prename descclassname"><span class="pre">reda.utils.mpl.</span></span><span class="sig-name descname"><span class="pre">mpl_get_cb_bound_next_to_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/mpl.html#mpl_get_cb_bound_next_to_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.mpl.mpl_get_cb_bound_next_to_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes next to the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Parts of this code are taken from the transforms.py file from matplotlib</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">reda.utils.mpl</span> <span class="kn">import</span> <span class="n">mpl_get_cb_bound_next_to_plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt_obj</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;.-&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cb_pos</span> <span class="o">=</span> <span class="n">mpl_get_cb_bound_next_to_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">cb_pos</span><span class="p">,</span> <span class="n">frame_on</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">jet_r</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="mi">33</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cb1</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">ColorbarBase</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ax1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cb1</span><span class="o">.</span><span class="n">locator</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">FixedLocator</span><span class="p">([</span><span class="mi">23</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cb1</span><span class="o">.</span><span class="n">update_ticks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># cb1.ax.artists.remove(cb1.outline)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../_api/reda-utils-1.py">Source code</a>, <a class="reference external" href="../_api/reda-utils-1.png">png</a>, <a class="reference external" href="../_api/reda-utils-1.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="../_images/reda-utils-1.png" class="plot-directive" src="../_images/reda-utils-1.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.mpl.setup">
<span class="sig-prename descclassname"><span class="pre">reda.utils.mpl.</span></span><span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_latex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/mpl.html#setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.mpl.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up matplotlib imports and settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>use_latex: bool, optional</strong></dt><dd><p>Determine if Latex output should be used. Latex will only be enable if
a ‘latex’ binary is found in the system.</p>
</dd>
<dt><strong>overwrite: bool, optional</strong></dt><dd><p>Overwrite some matplotlib config values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>plt: <a class="reference external" href="https://matplotlib.org/api/index.html#module-pylab" title="(in Matplotlib v3.4.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylab</span></code></a></dt><dd><p>pylab module imported as plt</p>
</dd>
<dt>mpl: <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code></dt><dd><p>matplotlib module imported as mpl</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="module-reda.utils.norrec">
<span id="reda-utils-norrec-module"></span><h2>reda.utils.norrec module<a class="headerlink" href="#module-reda.utils.norrec" title="Permalink to this headline">¶</a></h2>
<p>Normal-reciprocal functionality</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.assign_norrec_diffs">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">assign_norrec_diffs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#assign_norrec_diffs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.assign_norrec_diffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute and write the difference between normal and reciprocal values
for all columns specified in the diff_list parameter.</p>
<p>Note that the DataFrame is directly written to. That is, it is changed
during the call of this function. No need to use the returned object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df: pandas.DataFrame</strong></dt><dd><p>Dataframe containing the data</p>
</dd>
<dt><strong>diff_list: list</strong></dt><dd><p>list of columns to compute differences for.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>df_new: pandas.DataFrame</dt><dd><p>The data with added columns</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.assign_norrec_to_df">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">assign_norrec_to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#assign_norrec_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.assign_norrec_to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine normal-reciprocal pairs for a given dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df: pandas.DataFrame</strong></dt><dd><p>The data</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>df_new: pandas.DataFrame</dt><dd><p>The data with two new columns: “id” and “norrec”</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.average_repetitions">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">average_repetitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_mean</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#average_repetitions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.average_repetitions" title="Permalink to this definition">¶</a></dt>
<dd><p>average duplicate measurements. This requires that IDs and norrec labels
were assigned using the <em>assign_norrec_to_df</em> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong></dt><dd><p>DataFrame</p>
</dd>
<dt><strong>keys_mean: list</strong></dt><dd><p>list of keys to average. For all other keys the first entry will be
used.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.compute_norrec_differences">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">compute_norrec_differences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_diff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#compute_norrec_differences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.compute_norrec_differences" title="Permalink to this definition">¶</a></dt>
<dd><p>DO NOT USE ANY MORE - DEPRECIATED!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.get_test_df">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">get_test_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#get_test_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.get_test_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a test dataframe suitable to test the normal-reciprocal functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.get_test_df_advanced">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">get_test_df_advanced</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#get_test_df_advanced"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.get_test_df_advanced" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a test dataframe suitable to test the normal-reciprocal functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.test2">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">test2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#test2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.test2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.norrec.test_norrec_assignments1">
<span class="sig-prename descclassname"><span class="pre">reda.utils.norrec.</span></span><span class="sig-name descname"><span class="pre">test_norrec_assignments1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/norrec.html#test_norrec_assignments1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.norrec.test_norrec_assignments1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-reda.utils.pseudo_positions">
<span id="reda-utils-pseudo-positions-module"></span><h2>reda.utils.pseudo_positions module<a class="headerlink" href="#module-reda.utils.pseudo_positions" title="Permalink to this headline">¶</a></h2>
<p>Various ways to compute pseudo-positions of given electrode configurations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reda.utils.pseudo_positions.get_xy_simple_dipole_dipole">
<span class="sig-prename descclassname"><span class="pre">reda.utils.pseudo_positions.</span></span><span class="sig-name descname"><span class="pre">get_xy_simple_dipole_dipole</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reda/utils/pseudo_positions.html#get_xy_simple_dipole_dipole"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reda.utils.pseudo_positions.get_xy_simple_dipole_dipole" title="Permalink to this definition">¶</a></dt>
<dd><p>For each configuration indicated by the numerical index array, compute
(x,z) pseudo locations based on the paper from XX.</p>
<p>All positions are computed for indices=None.</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, M. Weigand and F. M. Wagner and others.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_api/reda.utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>